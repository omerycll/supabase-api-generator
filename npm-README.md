# Supabase API Generator

A tool that automatically generates CRUD operations for Supabase database tables based on TypeScript type definitions.

## Installation

```bash
npm install -g supabase-api-generator
```

## Usage

### Command Line

```bash
supabase-api-generator <type-file-path> <output-file-path>
```

Example:
```bash
supabase-api-generator ./src/types/supabase.ts ./src/lib/SupabaseApi.ts
```

### Requirements

1. Your project must have TypeScript type definitions for your Supabase database
2. The types should follow the format of types generated by Supabase CLI

## Generated Files

The generator creates the following files:

1. **Template file** (with the same name as the output file) - Base template for the API class
2. **API file** (the specified output file) - Contains CRUD operations for all database tables

## How it Works

1. Reads your Supabase TypeScript type definitions
2. Extracts all table names from the Database type
3. Generates proper typed methods for each table
4. Creates a class with all CRUD operations

## Example Usage of Generated API

```typescript
import { createSupabaseApi } from './path/to/SupabaseApi';

// Create an API instance
const api = createSupabaseApi();

// Use generated methods
async function fetchCustomers() {
  const customers = await api.getCustomers();
  return customers;
}

async function fetchCustomer(id: string) {
  const customer = await api.getCustomer(id);
  return customer;
}

async function createCustomer(data) {
  const newCustomer = await api.createCustomer(data);
  return newCustomer;
}

async function updateCustomer(id: string, data) {
  const updatedCustomer = await api.updateCustomer(id, data);
  return updatedCustomer;
}

async function deleteCustomer(id: string) {
  await api.deleteCustomer(id);
}
```

## License

MIT 